{"version":3,"file":"static/js/9138.b32e143d.chunk.js","mappings":"wPA0GA,UAjG0B,SAACA,GACvB,IAAMC,EAAoBD,EAAMC,kBAE1BC,EAAa,yCAAG,WAAOC,GAAP,kFACZC,EAAYC,aAAaC,QAAQ,cACjCC,EAAaC,KAAKC,MAAML,GACxBM,EAAQH,EAAWI,OAGrBC,EAAS,CACXC,OAAQ,SACRC,iBAAkBC,IAClBC,IAAKC,EAAAA,EAAAA,QAAAA,OAA0Bd,EAAOe,GAAG,IACzCC,QAAS,CACPC,cAAe,UAAYV,EAC3B,eAAgB,wBAIpBW,EAAAA,EAAAA,QACWT,GACRU,MAAK,SAACC,GACLtB,EAAkBuB,EAAQN,OAG3BO,OAAM,SAACC,OAtBQ,2CAAH,sDA0BfF,EAAUxB,EAAM2B,KACtB,OACE,iBAAKC,UAAU,OAAf,WAEE,gBAAKC,IAAKC,EAAAA,EAASN,EAAQO,MAAOH,UAAU,eAAeI,IAAI,QAC9DR,EAAQS,QACP,iBAAML,UAAU,+CAAhB,iBAIDJ,EAAQU,QACP,iBAAMN,UAAU,kDAAhB,kBAIAJ,EAAQW,IAAM,GAAKX,EAAQY,cAAgB,KAC3C,kBACER,UAAS,+DACPJ,EAAQS,MAAQ,OAAS,QAF7B,cAMGT,EAAQW,IAAM,EACXX,EAAQW,IAAM,IACd,IAAMX,EAAQY,kBAGtB,iBAAKR,UAAU,YAAf,WACE,eAAIA,UAAU,qBAAd,UACE,SAAC,KAAD,CAAMS,GAAIb,EAAQN,GAAIU,UAAU,uBAAhC,SACGJ,EAAQc,UAGb,iBAAKV,UAAU,OAAf,WACE,kBAAMA,UAAU,aAAhB,cAA+BJ,EAAQe,SACtCf,EAAQgB,YAAc,IACrB,iBAAKZ,UAAU,wBAAf,cAAyCJ,EAAQgB,gBAEnD,iBAAMZ,UAAU,OAAhB,SACGa,MAAMC,KAAK,CAAEC,OAAQnB,EAAQoB,OAAQ,SAACC,EAAGC,GAAJ,OACpC,SAAC,IAAD,CAAclB,UAAU,qBAAyBkB,YAIvD,iBAAKlB,UAAU,oBAAoBmB,KAAK,QAAxC,WACE,mBACEC,KAAK,SACLpB,UAAU,yBACVqB,MAAM,cACNC,QAAS,kBAAKC,EAAAA,EAAAA,GAAI3B,EAAQN,GAAI,IAJhC,UAOE,SAAC,IAAD,CAAiBkC,KAAMC,EAAAA,SAEzB,mBACEL,KAAK,SACLpB,UAAU,wBACVqB,MAAM,kBACNC,QAAS,kBAAKhD,EAAcsB,IAJ9B,UAME,SAAC,IAAD,CAAiB4B,KAAME,EAAAA,mB,uFC9FtBH,EAAM,SAACjC,EAAIqC,GAGtB,IAAMnD,EAAYC,aAAaC,QAAQ,cAEjCI,EADaF,KAAKC,MAAML,GACLO,OAErBC,EAAS,CACXC,OAAQ,OACR2C,cAAezC,IACfC,IAAKC,EAAAA,EAAAA,OAAAA,OACLE,QAAS,CACPC,cAAe,UAAYV,GAE7BiB,KAAM,CACJ8B,WAAYvC,EACZwC,SAAUH,IAIdlC,EAAAA,EAAAA,QACWT,GACRU,MAAK,SAACC,OAGNE,OAAM,SAACC","sources":["components/card/CardMyProductGrid.jsx","functions/addToBasket.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ReactComponent as IconStarFill } from \"bootstrap-icons/icons/star-fill.svg\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCartPlus, faHeart, faTrash } from \"@fortawesome/free-solid-svg-icons\";\r\nimport axios from \"axios\";\r\nimport { apis } from \"../API/api\";\r\nimport { Add } from \"../../functions/addToBasket\";\r\nimport { domain } from \"../API/api\";\r\nconst CardMyProductGrid = (props) => {\r\n    const onProductsDeleted = props.onProductsDeleted;\r\n\r\n    const deleteProduct = async (values) => {\r\n        const tokenJson = localStorage.getItem(\"authTokens\");\r\n        const tokenClass = JSON.parse(tokenJson);\r\n        const token = tokenClass.access;\r\n        // //console.log(\"token\", token);\r\n    \r\n        let config = {\r\n          method: \"delete\", // changed from get to post\r\n          maxContentLength: Infinity, // changed from maxBodyLength to maxContentLength\r\n          url: apis[\"product\"][\"delete\"]+values.id+\"/\",\r\n          headers: {\r\n            Authorization: \"Bearer \" + token,\r\n            \"Content-Type\": \"multipart/form-data\", // added content type header\r\n          },\r\n        };\r\n    \r\n        axios\r\n          .request(config)\r\n          .then((response) => {\r\n            onProductsDeleted(product.id);\r\n    \r\n          })\r\n          .catch((error) => {\r\n            //console.log(error);\r\n          });\r\n      };  \r\n  const product = props.data;\r\n  return (\r\n    <div className=\"card\">\r\n      {/* {//console.log(\"product\", product)} */}\r\n      <img src={domain + product.image} className=\"card-img-top\" alt=\"...\" />\r\n      {product.isNew && (\r\n        <span className=\"badge bg-success position-absolute mt-2 ms-2\">\r\n          New\r\n        </span>\r\n      )}\r\n      {product.isHot && (\r\n        <span className=\"badge bg-danger position-absolute r-0 mt-2 me-2\">\r\n          Hot\r\n        </span>\r\n      )}\r\n      {(product.bio > 0 || product.discountPrice > 0) && (\r\n        <span\r\n          className={`rounded position-absolute p-2 bg-warning  ms-2 small ${\r\n            product.isNew ? \"mt-5\" : \"mt-2\"\r\n          }`}\r\n        >\r\n          -\r\n          {product.bio > 0\r\n            ? product.bio + \"%\"\r\n            : \"$\" + product.discountPrice}\r\n        </span>\r\n      )}\r\n      <div className=\"card-body\">\r\n        <h6 className=\"card-subtitle mb-2\">\r\n          <Link to={product.id} className=\"text-decoration-none\">\r\n            {product.name}\r\n          </Link>\r\n        </h6>\r\n        <div className=\"my-2\">\r\n          <span className=\"fw-bold h5\">${product.price}</span>\r\n          {product.originPrice > 0 && (\r\n            <del className=\"small text-muted ms-2\">${product.originPrice}</del>\r\n          )}\r\n          <span className=\"ms-2\">\r\n            {Array.from({ length: product.star }, (_, key) => (\r\n              <IconStarFill className=\"text-warning me-1\" key={key} />\r\n            ))}\r\n          </span>\r\n        </div>\r\n        <div className=\"btn-group  d-flex\" role=\"group\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-sm btn-primary\"\r\n            title=\"Add to cart\"\r\n            onClick={()=>(Add(product.id, 1))}\r\n            \r\n          >\r\n            <FontAwesomeIcon icon={faCartPlus} />\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-sm btn-danger\"\r\n            title=\"Add to wishlist\"\r\n            onClick={()=>(deleteProduct(product))}\r\n          >\r\n            <FontAwesomeIcon icon={faTrash} />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardMyProductGrid;\r\n","import axios from \"axios\";\r\nimport React from \"react\";\r\nimport { apis } from \"../components/API/api\";\r\n\r\nexport const Add = (id, qunit) => {\r\n  // //console.log(\"add function ran\");\r\n\r\n  const tokenJson = localStorage.getItem(\"authTokens\");\r\n  const tokenClass = JSON.parse(tokenJson);\r\n  const token = tokenClass.access;\r\n  // //console.log(\"token\", token);\r\n  let config = {\r\n    method: \"post\",\r\n    maxBodyLength: Infinity,\r\n    url: apis[\"basket\"][\"update\"],\r\n    headers: {\r\n      Authorization: \"Bearer \" + token,\r\n    },\r\n    data: {\r\n      product_id: id,\r\n      quantity: qunit,\r\n    },\r\n  };\r\n  // //console.log(\"config\", config);\r\n  axios\r\n    .request(config)\r\n    .then((response) => {\r\n      // //console.log(\"id\", response);\r\n    })\r\n    .catch((error) => {\r\n      //console.log(error);\r\n    });\r\n};\r\n"],"names":["props","onProductsDeleted","deleteProduct","values","tokenJson","localStorage","getItem","tokenClass","JSON","parse","token","access","config","method","maxContentLength","Infinity","url","apis","id","headers","Authorization","axios","then","response","product","catch","error","data","className","src","domain","image","alt","isNew","isHot","bio","discountPrice","to","name","price","originPrice","Array","from","length","star","_","key","role","type","title","onClick","Add","icon","faCartPlus","faTrash","qunit","maxBodyLength","product_id","quantity"],"sourceRoot":""}