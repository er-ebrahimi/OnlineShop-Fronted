{"version":3,"file":"static/js/4080.74ad2ad4.chunk.js","mappings":"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","sources":["functions/MyProductsFunc.jsx","views/product/MyProducts.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nexport const withHooksHOC = (Component) => {\r\n  return (props) => {\r\n    const param = useParams()\r\n\r\n    return <Component param={param} {...props} />;\r\n  };\r\n};","import React, { lazy, Component } from \"react\";\r\nimport { data } from \"../../data\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTh, faBars } from \"@fortawesome/free-solid-svg-icons\";\r\nimport axios from \"axios\";\r\nimport { apis } from \"../../components/API/api\";\r\nimport { withHooksHOC } from \"../../functions/MyProductsFunc\";\r\n// import Addproduct from \"../cart/Addproduct\";\r\n// import SignUpForm from \"../../components/account/SignUpForm\";\r\nconst Paging = lazy(() => import(\"../../components/Paging\"));\r\nconst Breadcrumb = lazy(() => import(\"../../components/Breadcrumb\"));\r\nconst FilterCategory = lazy(() => import(\"../../components/filter/Category\"));\r\nconst FilterPrice = lazy(() => import(\"../../components/filter/Price\"));\r\nconst FilterSize = lazy(() => import(\"../../components/filter/Size\"));\r\nconst FilterStar = lazy(() => import(\"../../components/filter/Star\"));\r\nconst FilterColor = lazy(() => import(\"../../components/filter/Color\"));\r\nconst FilterTag = lazy(() => import(\"../../components/filter/Tag\"));\r\nconst FilterClear = lazy(() => import(\"../../components/filter/Clear\"));\r\nconst CardServices = lazy(() => import(\"../../components/card/CardServices\"));\r\nconst CardMyProductGrid = lazy(() =>\r\n  import(\"../../components/card/CardMyProductGrid\")\r\n);\r\nconst CardMyProductList = lazy(() =>\r\n  import(\"../../components/card/CardMyProductList\")\r\n);\r\n// const SingUpForm = lazy(() => import(\"../../components/account/SignUpForm\"));\r\nconst AddProduct = lazy(() => import(\"../cart/AddProduct\"));\r\n\r\nclass MyProducts extends Component {\r\n  state = {\r\n    currentProducts: [],\r\n    currentPage: null,\r\n    totalPages: null,\r\n    totalItems: 0,\r\n    view: \"list\",\r\n    image: \"\",\r\n    imageURLs: \"\",\r\n    selectedType: \"other\",\r\n  };\r\n  handleSelectChange = (event) => {\r\n    this.setState({selectedType : event.target.value});\r\n  };\r\n  onSubmit = async (values) => {\r\n    // //console.log(\"image\", this.state.image);\r\n    // //console.log(\"image type\", typeof this.state.image);\r\n    const formData = new FormData();\r\n    formData.append(\"name\", values.name);\r\n    formData.append(\"bio\", values.bio);\r\n    formData.append(\"address\", values.type);\r\n    formData.append(\"price\", values.price);\r\n    formData.append(\"amount\", values.amount);\r\n    formData.append(\"image\", this.state.image);\r\n    formData.append(\"type\" , this.state.selectedType)\r\n    //console.log(\"formData\", formData);\r\n    //console.log(\"state\", this.state);\r\n    const tokenJson = localStorage.getItem(\"authTokens\");\r\n    const tokenClass = JSON.parse(tokenJson);\r\n    const token = tokenClass.access;\r\n    // //console.log(\"token\", token);\r\n\r\n    let config = {\r\n      method: \"post\", // changed from get to post\r\n      maxContentLength: Infinity, // changed from maxBodyLength to maxContentLength\r\n      url: apis[\"product\"][\"create\"] + this.props.param.id + '/',\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n        \"Content-Type\": \"multipart/form-data\", // added content type header\r\n      },\r\n      data: formData,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        //console.log(response);\r\n        this.onProductsChanged({...response.data, image:response.data.image.match(/\\/media\\/product_images\\/.*$/)[0]});\r\n        //console.log(\"convert\" , response.data.image.match(/\\/media\\/product_images\\/.*$/)[0])\r\n      })\r\n      .catch((error) => {\r\n        //console.log(error);\r\n      });\r\n  };\r\n\r\n  UNSAFE_componentWillMount() {\r\n    const totalItems = this.getProducts().length;\r\n    this.setState({ totalItems });\r\n  }\r\n\r\n  onProductsChanged = (currentProducts) => {\r\n    //console.log(\"currentProducts1\", currentProducts);\r\n    this.setState({\r\n      currentProducts: [...this.state.currentProducts,currentProducts]\r\n       });\r\n    //console.log(\"currentProducts2\", currentProducts);\r\n  };\r\n\r\n  onProductsDeleted = (id) => {\r\n    const currentProducts = this.state.currentProducts.filter(\r\n      (product) => product.id !== id\r\n    );\r\n    this.setState({ currentProducts });\r\n  };\r\n\r\n  onPageChanged = async (page) =>  {\r\n    let products = this.getProducts();\r\n    // //console.log(\"products\", products)\r\n    // //console.log(\"page\", page)\r\n    const tokenJson = localStorage.getItem(\"authTokens\");\r\n    const tokenClass = JSON.parse(tokenJson);\r\n    const token = tokenClass.access;\r\n    // //console.log(\"token\", token);\r\n    let config = {\r\n      method: \"get\",\r\n      maxBodyLength: Infinity,\r\n      // url: apis[\"product\"][\"list\"]+ this.props.param.id + '/',\r\n      url: apis[\"product\"][\"bystore\"]+ this.props.param.id + '/',  \r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        products = response.data;\r\n        //console.log(\"stores\",response.data);\r\n        const { currentPage, totalPages, pageLimit } = page;\r\n        const offset = (currentPage - 1) * pageLimit;\r\n        const currentProducts = products.slice(offset, offset + pageLimit);\r\n        // //console.log(\"currentProducts\", currentProducts);\r\n        this.setState({ currentPage, currentProducts, totalPages });\r\n      })\r\n      .catch((error) => {\r\n        //console.log(error);\r\n      });\r\n  };\r\n\r\n  onChangeView = (view) => {\r\n    this.setState({ view });\r\n  };\r\n\r\n  onChangeImage = (image) => {\r\n    this.setState({ image });\r\n    //console.log(\"change image\", image);\r\n  };\r\n  \r\n  getProducts = () => {\r\n    let products = data.products;\r\n    const token = JSON.parse(localStorage.getItem(\"authTokens\")).access;\r\n    let config = {\r\n      method: \"get\",\r\n      maxBodyLength: Infinity,\r\n      url: apis[\"product\"][\"list\"],  \r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    };\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        products = response.data;\r\n        products = products.data;\r\n      })\r\n      .catch((error) => {\r\n        //console.log(error);\r\n      });\r\n    return products;\r\n  };\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <div\r\n          className=\"p-5 bg-primary bs-cover\"\r\n          style={{\r\n            backgroundImage: \"url(../../images/banner/50-Banner.webp)\",\r\n          }}\r\n        >\r\n          <div className=\"container text-center\">\r\n            <span className=\"display-5 px-3 bg-white rounded shadow\">\r\n              Your Products\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <Breadcrumb />\r\n        <div className=\"container-fluid mb-3\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-3\">\r\n              <div className=\"card mb-3\">\r\n                <div className=\"card-header\">\r\n                  <span className=\"align-middle\">Add card</span>\r\n                  \r\n                   <AddProduct onChangeImage={this.onChangeImage} onSubmit={this.onSubmit} handleSelectChange={this.handleSelectChange} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-9\">\r\n              <div className=\"row\">\r\n                <div className=\"col-7\">\r\n                  <span className=\"align-middle fw-bold\">\r\n                    {this.state.totalItems} results for{\" \"}\r\n                    <span className=\"text-warning\">\"t-shirts\"</span>\r\n                  </span>\r\n                </div>\r\n                <div className=\"col-5 d-flex justify-content-end\">\r\n                  {/* <select\r\n                    className=\"form-select mw-180 float-start\"\r\n                    aria-label=\"Default select\"\r\n                  >\r\n                    <option value={1}>Most Popular</option>\r\n                    <option value={2}>Latest items</option>\r\n                    <option value={3}>Trending</option>\r\n                    <option value={4}>Price low to high</option>\r\n                    <option value={4}>Price high to low</option>\r\n                  </select> */}\r\n                  <div className=\"btn-group ms-3\" role=\"group\">\r\n                    <button\r\n                      aria-label=\"Grid\"\r\n                      type=\"button\"\r\n                      onClick={() => this.onChangeView(\"grid\")}\r\n                      className={`btn ${\r\n                        this.state.view === \"grid\"\r\n                          ? \"btn-primary\"\r\n                          : \"btn-outline-primary\"\r\n                      }`}\r\n                    >\r\n                      <FontAwesomeIcon icon={faTh} />\r\n                    </button>\r\n                    <button\r\n                      aria-label=\"List\"\r\n                      type=\"button\"\r\n                      onClick={() => this.onChangeView(\"list\")}\r\n                      className={`btn ${\r\n                        this.state.view === \"list\"\r\n                          ? \"btn-primary\"\r\n                          : \"btn-outline-primary\"\r\n                      }`}\r\n                    >\r\n                      <FontAwesomeIcon icon={faBars} />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <hr />\r\n              <div className=\"row g-3\">\r\n                {this.state.view === \"grid\" &&\r\n                  this.state.currentProducts.map((product, idx) => {\r\n                    return (\r\n                      <div key={idx} className=\"col-md-4\">\r\n                        <CardMyProductGrid\r\n                        onProductsDeleted={this.onProductsDeleted}\r\n                        data={product} />\r\n                      </div>\r\n                    );\r\n                  })}\r\n                {this.state.view === \"list\" &&\r\n                  this.state.currentProducts.map((product, idx) => {\r\n                    return (\r\n                      <div key={idx} className=\"col-md-12\">\r\n                        <CardMyProductList \r\n                        onProductsDeleted={this.onProductsDeleted}\r\n                        data={product} />\r\n                      </div>\r\n                    );\r\n                  })}\r\n              </div>\r\n              <hr />\r\n              <Paging\r\n                totalRecords={this.state.totalItems}\r\n                pageLimit={9}\r\n                pageNeighbours={3}\r\n                onPageChanged={this.onPageChanged}\r\n                sizing=\"\"\r\n                alignment=\"justify-content-center\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withHooksHOC(MyProducts);\r\n"],"names":["withHooksHOC","Component","props","param","useParams","Paging","lazy","Breadcrumb","CardMyProductGrid","CardMyProductList","AddProduct","MyProducts","state","currentProducts","currentPage","totalPages","totalItems","view","image","imageURLs","selectedType","handleSelectChange","event","setState","target","value","onSubmit","values","formData","FormData","append","name","bio","type","price","amount","tokenJson","localStorage","getItem","tokenClass","JSON","parse","token","access","config","method","maxContentLength","Infinity","url","apis","id","headers","Authorization","data","axios","then","response","onProductsChanged","match","catch","error","onProductsDeleted","filter","product","onPageChanged","page","products","getProducts","maxBodyLength","pageLimit","offset","slice","onChangeView","onChangeImage","this","length","className","style","backgroundImage","role","onClick","icon","faTh","faBars","map","idx","totalRecords","pageNeighbours","sizing","alignment"],"sourceRoot":""}